# Bannerå’ŒLOGOå®é™…é…ç½®è¯´æ˜

## âœ… å·²é…ç½®å®Œæˆ

æ ¹æ®å®é™…COSæ–‡ä»¶ï¼Œå·²å®Œæˆä»¥ä¸‹é…ç½®ï¼š

---

## ğŸ“Š COSæ–‡ä»¶æ¸…å•

### å®é™…æ–‡ä»¶

```
https://yjsp-1367462091.cos.ap-nanjing.myqcloud.com/laoxiangji/LXJLOGO/
â”œâ”€â”€ LxjLogo.png  âœ…  # å“ç‰ŒLOGOï¼ˆå·²éªŒè¯å­˜åœ¨ï¼‰
â””â”€â”€ LxjAd.jpg    âœ…  # é¦–é¡µå¹¿å‘Šå¤§å›¾
```

### æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶å | ç”¨é€” | è®¿é—®URL | çŠ¶æ€ |
|--------|------|---------|------|
| `LxjLogo.png` | å“ç‰ŒLOGO | [ç‚¹å‡»æŸ¥çœ‹](https://yjsp-1367462091.cos.ap-nanjing.myqcloud.com/laoxiangji/LXJLOGO/LxjLogo.png) | âœ… å·²éªŒè¯ |
| `LxjAd.jpg` | é¦–é¡µBannerå¹¿å‘Š | [ç‚¹å‡»æŸ¥çœ‹](https://yjsp-1367462091.cos.ap-nanjing.myqcloud.com/laoxiangji/LXJLOGO/LxjAd.jpg) | âœ… å¾…éªŒè¯ |

---

## ğŸ”§ é…ç½®è¯¦æƒ…

### 1. åç«¯é…ç½®

**æ–‡ä»¶**: `src/modules/stats/stats.service.ts`

**é…ç½®ä»£ç ** (ç¬¬82-91è¡Œ):
```typescript
// Bannerå¹¿å‘Šå›¾ï¼ˆä½¿ç”¨COSå­˜å‚¨ - å•å¼ å¤§å›¾ï¼‰
const cosBaseUrl = 'https://yjsp-1367462091.cos.ap-nanjing.myqcloud.com';
const banners = [
  {
    id: 1,
    image: `${cosBaseUrl}/laoxiangji/LXJLOGO/LxjAd.jpg`,
    link: '/pages/index/index',
    title: 'è€ä¹¡é¸¡ç¾é£Ÿ',
  },
];
```

**è¯´æ˜**:
- âœ… ä½¿ç”¨å•å¼ å¹¿å‘Šå¤§å›¾ `LxjAd.jpg`
- âœ… å›¾ç‰‡è·¯å¾„ï¼š`/laoxiangji/LXJLOGO/LxjAd.jpg`
- âœ… è¿”å›æ ¼å¼ï¼šæ ‡å‡†banneræ•°ç»„

---

### 2. å‰ç«¯é…ç½®

#### 2.1 LOGOå±•ç¤º

**æ–‡ä»¶**: `pages/index/index.wxml`

**é…ç½®ä»£ç ** (ç¬¬5-13è¡Œ):
```xml
<!-- LOGOåŒºåŸŸ -->
<view class="logo-section">
  <image 
    class="brand-logo" 
    src="https://yjsp-1367462091.cos.ap-nanjing.myqcloud.com/laoxiangji/LXJLOGO/LxjLogo.png" 
    mode="aspectFit"
  ></image>
  <text class="brand-slogan">å‘ç°ç¾é£Ÿï¼Œäº«å—ç”Ÿæ´»</text>
</view>
```

**è¯´æ˜**:
- âœ… LOGOæ–‡ä»¶ï¼š`LxjLogo.png`
- âœ… æ˜¾ç¤ºæ¨¡å¼ï¼šaspectFitï¼ˆä¿æŒæ¯”ä¾‹ï¼‰
- âœ… ä½ç½®ï¼šBannerä¸Šæ–¹ç‹¬ç«‹åŒºåŸŸ

#### 2.2 Bannerå±•ç¤º

**æ–‡ä»¶**: `pages/index/index.wxml`

**é…ç½®ä»£ç ** (ç¬¬15-22è¡Œ):
```xml
<!-- è½®æ’­å›¾ -->
<view class="banner-section">
  <swiper class="banner-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{5000}}" circular="{{true}}">
    <swiper-item wx:for="{{banners}}" wx:key="id">
      <image class="banner-image" src="{{item.image}}" mode="aspectFill" bindtap="onBannerTap" data-id="{{item.id}}"></image>
    </swiper-item>
  </swiper>
</view>
```

**è¯´æ˜**:
- âœ… ä»APIåŠ¨æ€è·å–bannersæ•°æ®
- âœ… å½“å‰é…ç½®ï¼šå•å¼ å¹¿å‘Šå›¾
- âœ… è‡ªåŠ¨æ’­æ”¾ã€å¾ªç¯æ’­æ”¾ï¼ˆè™½ç„¶åªæœ‰ä¸€å¼ å›¾ï¼‰
- âš ï¸ å¦‚éœ€å»æ‰è½®æ’­æ•ˆæœï¼Œå¯ç®€åŒ–ä¸ºå•ä¸ªimageæ ‡ç­¾

#### 2.3 æ•°æ®åŠ è½½

**æ–‡ä»¶**: `pages/index/index.js`

**é…ç½®ä»£ç ** (ç¬¬116-153è¡Œ):
```javascript
// åŠ è½½æ ¸å¿ƒæ•°æ®ï¼ˆåˆ†ç±»ã€æ¨èé£Ÿè°±ã€bannersï¼‰
async loadCoreData() {
  try {
    // å¹¶è¡Œè¯·æ±‚é¦–é¡µæ•°æ®ã€åˆ†ç±»å’Œæ¨èé£Ÿè°±
    const results = await Promise.all([
      api.stats.getHomeFeed(),  // âœ… è·å–é¦–é¡µæ•°æ®ï¼ˆåŒ…å«bannersï¼‰
      api.category.getCategoryListCached(),
      api.recipe.getRecipeList({
        page: 1,
        limit: 10,
        sort: 'recommended'
      })
    ])
    
    const homeData = results[0]
    const categories = results[1]
    const recipes = results[2]
    
    this.$batchSetData({
      banners: homeData.banners || [],  // âœ… ä»é¦–é¡µæ•°æ®è·å–banners
      categories: this.formatCategories(categories),
      recommendRecipes: this.formatRecipes(recipes.items || recipes.list || []),
      loading: false
    }, 0)
  } catch (error) {
    // é”™è¯¯å¤„ç†...
  }
}
```

**è¯´æ˜**:
- âœ… ä» `/api/v1/stats/home/feed` è·å–banners
- âœ… å¹¶è¡ŒåŠ è½½ï¼Œä¼˜åŒ–æ€§èƒ½
- âœ… å®¹é”™å¤„ç†ï¼Œå¤±è´¥æ—¶æ˜¾ç¤ºç©ºbanner

---

## ğŸ¨ UIå¸ƒå±€

### é¦–é¡µç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LOGOåŒºåŸŸ                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚   [LxjLogo.png]     â”‚       â”‚  â† å“ç‰ŒLOGO
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚   å‘ç°ç¾é£Ÿï¼Œäº«å—ç”Ÿæ´»             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚    â”‚   [LxjAd.jpg]     â”‚        â”‚  â† å¹¿å‘Šå¤§å›¾
â”‚    â”‚   (å•å¼ Banner)     â”‚        â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   åˆ†ç±»å¯¼èˆª                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ä»Šæ—¥æ¨è                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ·å¼ç‰¹ç‚¹

**LOGOåŒºåŸŸ**:
- èƒŒæ™¯ï¼šç™½è‰²åˆ°æµ…ç°æ¸å˜
- LOGOå°ºå¯¸ï¼š200rpx Ã— 80rpx
- åŠ¨ç”»ï¼šç¼©æ”¾æ·¡å…¥æ•ˆæœ
- Sloganï¼šæµ…ç°è‰²ã€å°å­—å·

**BanneråŒºåŸŸ**:
- é«˜åº¦ï¼š380rpx
- åœ†è§’ï¼š24rpx
- é˜´å½±ï¼š0 8rpx 24rpx rgba(0, 0, 0, 0.12)
- æ˜¾ç¤ºæ¨¡å¼ï¼šaspectFillï¼ˆå¡«å……ï¼‰

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤1: æäº¤åç«¯ä»£ç 

```bash
cd E:\å‰ç«¯é¡¹ç›®æ–‡æ¡£\é¡¹ç›®æ–‡ä»¶å¤¹\CookTip-Backend

git add src/modules/stats/stats.service.ts
git commit -m "fix: æ›´æ–°Bannerå’ŒLOGOä¸ºå®é™…COSæ–‡ä»¶å

- LOGO: logo.png â†’ LxjLogo.png
- Banner: banner1-3.jpg â†’ LxjAd.jpgï¼ˆå•å¼ å¤§å›¾ï¼‰
- ä½¿ç”¨å®é™…å­˜å‚¨æ¡¶ä¸­çš„æ–‡ä»¶"
git push origin main
```

### æ­¥éª¤2: éªŒè¯æ–‡ä»¶è®¿é—®

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä»¥ä¸‹URLï¼Œç¡®è®¤å¯ä»¥è®¿é—®ï¼š

1. **LOGO**:
   ```
   https://yjsp-1367462091.cos.ap-nanjing.myqcloud.com/laoxiangji/LXJLOGO/LxjLogo.png
   ```
   âœ… å·²éªŒè¯å­˜åœ¨

2. **Banner**:
   ```
   https://yjsp-1367462091.cos.ap-nanjing.myqcloud.com/laoxiangji/LXJLOGO/LxjAd.jpg
   ```
   â³ å¾…éªŒè¯

### æ­¥éª¤3: äº‘æ‰˜ç®¡éƒ¨ç½²

- æ¨é€ä»£ç åï¼Œäº‘æ‰˜ç®¡ä¼šè‡ªåŠ¨è§¦å‘éƒ¨ç½²
- æˆ–åœ¨äº‘æ‰˜ç®¡æ§åˆ¶å°æ‰‹åŠ¨ç‚¹å‡»"é‡æ–°éƒ¨ç½²"
- ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆçº¦3-5åˆ†é’Ÿï¼‰

### æ­¥éª¤4: å‰ç«¯æµ‹è¯•

1. **æ¸…é™¤ç¼“å­˜**:
   ```javascript
   // åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ§åˆ¶å°æ‰§è¡Œ
   wx.clearStorageSync()
   wx.reLaunch({ url: '/pages/index/index' })
   ```

2. **æ£€æŸ¥LOGO**:
   - âœ… LOGOæ˜¾ç¤ºæ­£å¸¸
   - âœ… æ²¡æœ‰404é”™è¯¯
   - âœ… å›¾ç‰‡æ¸…æ™°åº¦æ­£å¸¸

3. **æ£€æŸ¥Banner**:
   - âœ… Banneræ˜¾ç¤ºæ­£å¸¸
   - âœ… æ²¡æœ‰404é”™è¯¯
   - âœ… å›¾ç‰‡æ¸…æ™°åº¦æ­£å¸¸
   - âš ï¸ å¦‚æœåªæœ‰ä¸€å¼ å›¾ï¼Œè½®æ’­æŒ‡ç¤ºç‚¹å¯èƒ½ä¸å¤ªæ˜æ˜¾

### æ­¥éª¤5: æµ‹è¯•API

```bash
# æµ‹è¯•é¦–é¡µæ•°æ®æ¥å£
curl https://yjsp-ytg-191595-4-1367462091.sh.run.tcloudbase.com/api/v1/stats/home/feed
```

**é¢„æœŸå“åº”**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "banners": [
      {
        "id": 1,
        "image": "https://yjsp-1367462091.cos.ap-nanjing.myqcloud.com/laoxiangji/LXJLOGO/LxjAd.jpg",
        "link": "/pages/index/index",
        "title": "è€ä¹¡é¸¡ç¾é£Ÿ"
      }
    ],
    "categories": [...],
    "hot_recipes": [...],
    "latest_recipes": [...],
    "recommended_recipes": [...]
  }
}
```

---

## ğŸ’¡ ä¼˜åŒ–å»ºè®®

### å¦‚æœåªæœ‰ä¸€å¼ Bannerå›¾ï¼Œå¯ä»¥è€ƒè™‘ï¼š

#### æ–¹æ¡ˆ1: ç®€åŒ–ä¸ºå•å›¾å±•ç¤ºï¼ˆæ¨èï¼‰

**ä¿®æ”¹ `index.wxml`**:
```xml
<!-- å¹¿å‘Šå›¾ï¼ˆéè½®æ’­ï¼‰ -->
<view class="banner-section">
  <image 
    wx:if="{{banners.length > 0}}"
    class="banner-image-single" 
    src="{{banners[0].image}}" 
    mode="aspectFill"
    bindtap="onBannerTap"
    data-id="{{banners[0].id}}"
  ></image>
</view>
```

**ä¿®æ”¹ `index.wxss`**:
```css
.banner-image-single {
  width: 100%;
  height: 380rpx;
  border-radius: var(--radius-xl);
  box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.12);
}
```

**ä¼˜ç‚¹**:
- æ›´ç®€æ´
- æ€§èƒ½æ›´å¥½
- æ²¡æœ‰å¤šä½™çš„è½®æ’­æŒ‡ç¤ºç‚¹

#### æ–¹æ¡ˆ2: ä¿æŒè½®æ’­ä½†éšè—æŒ‡ç¤ºç‚¹

**ä¿®æ”¹ `index.wxml`**:
```xml
<swiper 
  class="banner-swiper" 
  indicator-dots="{{banners.length > 1}}"  <!-- åªæœ‰å¤šå¼ å›¾æ—¶æ˜¾ç¤ºæŒ‡ç¤ºç‚¹ -->
  autoplay="{{banners.length > 1}}"        <!-- åªæœ‰å¤šå¼ å›¾æ—¶è‡ªåŠ¨æ’­æ”¾ -->
  circular="{{banners.length > 1}}"        <!-- åªæœ‰å¤šå¼ å›¾æ—¶å¾ªç¯ -->
  interval="{{5000}}"
>
```

**ä¼˜ç‚¹**:
- ä¿æŒä»£ç ç»“æ„
- æœªæ¥æ·»åŠ å¤šå¼ å›¾æ—¶æ— éœ€ä¿®æ”¹
- è‡ªåŠ¨é€‚é…å•å›¾/å¤šå›¾åœºæ™¯

---

## ğŸ¯ ä¸ä¹‹å‰ç‰ˆæœ¬çš„å¯¹æ¯”

| é¡¹ç›® | ä¹‹å‰é…ç½® | å½“å‰é…ç½® |
|------|----------|----------|
| LOGOæ–‡ä»¶ | `logo.png` âŒ | `LxjLogo.png` âœ… |
| Banneræ•°é‡ | 3å¼  (`banner1-3.jpg`) âŒ | 1å¼  (`LxjAd.jpg`) âœ… |
| Banneræ–‡ä»¶ | ä¸å­˜åœ¨çš„æ–‡ä»¶ | å®é™…å­˜åœ¨çš„æ–‡ä»¶ |
| APIè¿”å› | 3ä¸ªbannerå¯¹è±¡ | 1ä¸ªbannerå¯¹è±¡ |
| è½®æ’­æ•ˆæœ | 3å¼ å›¾è½®æ’­ | å•å¼ å›¾ï¼ˆå»ºè®®ä¼˜åŒ–ï¼‰ |

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### 1. æ–‡ä»¶å‘½å

- âœ… ä¸¥æ ¼åŒºåˆ†å¤§å°å†™
- âœ… `LxjLogo.png`ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰
- âœ… `LxjAd.jpg`ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰

### 2. COSæƒé™

- âœ… ç¡®ä¿æ–‡ä»¶è®¾ç½®ä¸º"å…¬æœ‰è¯»"
- âœ… å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—®

### 3. ç¼“å­˜æ¸…ç†

æ›´æ–°åéœ€è¦ï¼š
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- æ¸…é™¤å°ç¨‹åºç¼“å­˜
- é‡æ–°åŠ è½½é¡µé¢

### 4. å›¾ç‰‡è§„æ ¼

å¦‚æœéœ€è¦è°ƒæ•´å›¾ç‰‡ï¼š
- LOGOå»ºè®®å°ºå¯¸ï¼š400Ã—160pxï¼ˆå®½é«˜æ¯” 5:2ï¼‰
- Bannerå»ºè®®å°ºå¯¸ï¼š750Ã—380pxï¼ˆå®½é«˜æ¯”çº¦ 2:1ï¼‰
- æ–‡ä»¶æ ¼å¼ï¼šPNGï¼ˆLOGOï¼‰ã€JPGï¼ˆBannerï¼‰

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1: LOGOä¸æ˜¾ç¤º

**å¯èƒ½åŸå› **:
- æ–‡ä»¶åå¤§å°å†™ä¸åŒ¹é…
- COSæƒé™æœªè®¾ç½®

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
curl -I https://yjsp-1367462091.cos.ap-nanjing.myqcloud.com/laoxiangji/LXJLOGO/LxjLogo.png

# åº”è¯¥è¿”å› 200 OKï¼Œè€Œä¸æ˜¯ 403 æˆ– 404
```

### é—®é¢˜2: Bannerä¸æ˜¾ç¤º

**å¯èƒ½åŸå› **:
- `LxjAd.jpg` æ–‡ä»¶ä¸å­˜åœ¨
- COSæƒé™æœªè®¾ç½®
- APIæœªé‡æ–°éƒ¨ç½²

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æ–‡ä»¶URL
2. æŸ¥çœ‹APIå“åº”
3. æ£€æŸ¥æ§åˆ¶å°é”™è¯¯æ—¥å¿—

### é—®é¢˜3: è½®æ’­æŒ‡ç¤ºç‚¹æ˜¾ç¤ºå¼‚å¸¸

**åŸå› **: åªæœ‰ä¸€å¼ å›¾æ—¶ï¼ŒæŒ‡ç¤ºç‚¹ä¸å¤ªæ˜æ˜¾

**è§£å†³æ–¹æ¡ˆ**:
- é‡‡ç”¨ä¸Šè¿°"ä¼˜åŒ–å»ºè®®"ä¸­çš„æ–¹æ¡ˆ
- éšè—æŒ‡ç¤ºç‚¹æˆ–æ”¹ä¸ºå•å›¾å±•ç¤º

---

## ğŸ“Š å®é™…æ•ˆæœé¢„è§ˆ

### é¢„æœŸå±•ç¤ºæ•ˆæœ

1. **é¡µé¢é¡¶éƒ¨**: è€ä¹¡é¸¡å“ç‰ŒLOGO + Slogan
2. **LOGOä¸‹æ–¹**: ä¸€å¼ å¤§å¹…å¹¿å‘Šå›¾ï¼ˆè€ä¹¡é¸¡ç¾é£Ÿï¼‰
3. **å¹¿å‘Šä¸‹æ–¹**: åˆ†ç±»å¯¼èˆªå’Œæ¨èé£Ÿè°±

### ç”¨æˆ·ä½“éªŒ

- âœ… å“ç‰Œè¯†åˆ«åº¦å¼º
- âœ… è§†è§‰å†²å‡»åŠ›å¥½
- âœ… åŠ è½½é€Ÿåº¦å¿«ï¼ˆå•å¼ å›¾ï¼‰
- âš ï¸ å¦‚éœ€å¤šæ ·åŒ–ï¼Œå»ºè®®åç»­æ·»åŠ æ›´å¤šbannerå›¾

---

**é…ç½®å®Œæˆæ—¶é—´**: 2025å¹´10æœˆ29æ—¥  
**å®é™…æ–‡ä»¶éªŒè¯**: 2025å¹´10æœˆ29æ—¥  
**é…ç½®ä½œè€…**: CookTip å¼€å‘å›¢é˜Ÿ

**å®é™…ä½¿ç”¨çš„æ–‡ä»¶**:
- âœ… `LxjLogo.png` - å“ç‰ŒLOGO
- âœ… `LxjAd.jpg` - é¦–é¡µå¹¿å‘Šå¤§å›¾

