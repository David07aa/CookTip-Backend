# 404é”™è¯¯å®Œæ•´æ’æŸ¥æŒ‡å—

## ğŸ“‹ é—®é¢˜æè¿°

å‰ç«¯æŠ¥é”™ï¼š
```
[æ¸²æŸ“å±‚ç½‘ç»œå±‚é”™è¯¯] Failed to load image https://example.com/logo.png
the server responded with a status of 404 (HTTP/1.1 404) 
From server 127.0.0.1(env: Windows,mp,1.06.2504030; lib: 3.5.8)
```

---

## ğŸ” é—®é¢˜å®šä½

### âœ… æ­¥éª¤1: æ•°æ®åº“æ£€æŸ¥ï¼ˆå·²å®Œæˆï¼‰

**æ£€æŸ¥ç»“æœ**:
- âœ… ç”¨æˆ·è¡¨: 0 æ¡è®°å½•åŒ…å«ç¤ºä¾‹URL
- âœ… é£Ÿè°±è¡¨: 0 æ¡è®°å½•åŒ…å«ç¤ºä¾‹URL
- âœ… åˆ†ç±»è¡¨: 0 æ¡è®°å½•åŒ…å«ç¤ºä¾‹URL

**ç»“è®º**: æ•°æ®åº“æ•°æ®æ˜¯å¹²å‡€çš„ï¼Œé—®é¢˜ä¸åœ¨åç«¯æ•°æ®ã€‚

---

### ğŸ” æ­¥éª¤2: å‰ç«¯ä»£ç æ£€æŸ¥

#### æ£€æŸ¥é¡¹1: æœç´¢ `example.com/logo.png`

åœ¨å‰ç«¯é¡¹ç›®ä¸­æœç´¢è¿™ä¸ªå…·ä½“çš„URLï¼š

```bash
cd "E:\å‰ç«¯é¡¹ç›®æ–‡æ¡£\é¡¹ç›®æ–‡ä»¶å¤¹\CookTip"

# æœç´¢ logo.png
grep -r "logo.png" pages/
grep -r "logo.png" utils/
grep -r "logo.png" components/

# æœç´¢ example.com
grep -r "example.com" pages/
grep -r "example.com" utils/
```

#### æ£€æŸ¥é¡¹2: æ£€æŸ¥é¡µé¢åˆå§‹æ•°æ®

æŸ¥çœ‹ä»¥ä¸‹æ–‡ä»¶ä¸­çš„ `data` å¯¹è±¡ï¼š

1. **index.js** - é¦–é¡µæ•°æ®
```javascript
// pages/index/index.js
data: {
  banners: [],  // æ£€æŸ¥æ˜¯å¦æœ‰ç¤ºä¾‹bannerå›¾
  categories: [],  // æ£€æŸ¥åˆ†ç±»æ•°æ®
  recommendRecipes: [],  // æ£€æŸ¥æ¨èé£Ÿè°±
  hotRecipes: []  // æ£€æŸ¥çƒ­é—¨é£Ÿè°±
}
```

2. **recipe-detail.js** - é£Ÿè°±è¯¦æƒ…é¡µå¤‡ç”¨æ•°æ®
```javascript
// pages/recipe-detail/recipe-detail.js
// ç¬¬64-140è¡Œæœ‰å¤‡ç”¨æ•°æ®ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ example.com URL
```

3. **profile.js** - ä¸ªäººä¸­å¿ƒæ•°æ®
```javascript
// pages/profile/profile.js
data: {
  userInfo: null,  // æ£€æŸ¥ç”¨æˆ·ä¿¡æ¯
  stats: {}  // æ£€æŸ¥ç»Ÿè®¡æ•°æ®
}
```

#### æ£€æŸ¥é¡¹3: æ£€æŸ¥ç»„ä»¶é…ç½®

æ£€æŸ¥ä»¥ä¸‹ç»„ä»¶æ˜¯å¦ä½¿ç”¨äº†ç¡¬ç¼–ç çš„ç¤ºä¾‹URLï¼š

1. **bannerç»„ä»¶** (å¦‚æœæœ‰)
2. **categoryç»„ä»¶**
3. **recipe-cardç»„ä»¶**

---

### ğŸ” æ­¥éª¤3: æ£€æŸ¥åç«¯APIè¿”å›

#### æµ‹è¯•APIæ¥å£

ä½¿ç”¨Postmanæˆ–curlæµ‹è¯•æ‰€æœ‰å›¾ç‰‡ç›¸å…³çš„APIï¼š

```bash
# 1. æµ‹è¯•é¦–é¡µæ•°æ®
curl http://localhost:3000/api/v1/stats/homepage

# 2. æµ‹è¯•é£Ÿè°±åˆ—è¡¨
curl http://localhost:3000/api/v1/recipes

# 3. æµ‹è¯•é£Ÿè°±è¯¦æƒ…
curl http://localhost:3000/api/v1/recipes/1

# 4. æµ‹è¯•åˆ†ç±»åˆ—è¡¨
curl http://localhost:3000/api/v1/categories

# 5. æµ‹è¯•ç”¨æˆ·ä¿¡æ¯
curl http://localhost:3000/api/v1/users/me \
  -H "Authorization: Bearer YOUR_TOKEN"
```

**æ£€æŸ¥è¦ç‚¹**:
- æ‰€æœ‰è¿”å›çš„JSONä¸­æœç´¢ `example.com`
- æ£€æŸ¥å›¾ç‰‡å­—æ®µï¼š`cover_image`, `avatar`, `icon`, `image`
- è®°å½•åŒ…å« `example.com` çš„å…·ä½“å­—æ®µå’Œå€¼

---

### ğŸ” æ­¥éª¤4: æ£€æŸ¥ç½‘ç»œè¯·æ±‚

#### åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­è°ƒè¯•

1. **æ‰“å¼€Networké¢æ¿**
   - å¾®ä¿¡å¼€å‘è€…å·¥å…· â†’ è°ƒè¯•å™¨ â†’ Network

2. **é‡æ–°åŠ è½½é¡µé¢**
   - æ¸…é™¤ç¼“å­˜
   - åˆ·æ–°é¡µé¢

3. **æŸ¥æ‰¾404è¯·æ±‚**
   - ç­›é€‰å‡ºçŠ¶æ€ç ä¸º404çš„è¯·æ±‚
   - è®°å½•å®Œæ•´çš„è¯·æ±‚URL
   - æŸ¥çœ‹è¯·æ±‚çš„æ¥æºï¼ˆInitiatorï¼‰

4. **æŸ¥çœ‹Consoleæ—¥å¿—**
   - åˆ‡æ¢åˆ°Consoleé¢æ¿
   - æŸ¥çœ‹æ˜¯å¦æœ‰å›¾ç‰‡åŠ è½½å¤±è´¥çš„æ—¥å¿—
   - è®°å½•é”™è¯¯çš„å®Œæ•´å †æ ˆä¿¡æ¯

#### å®šä½å…·ä½“é¡µé¢

é€ä¸ªæµ‹è¯•ä»¥ä¸‹é¡µé¢ï¼š

- [ ] ç™»å½•é¡µ (`pages/login/login`)
- [ ] é¦–é¡µ (`pages/index/index`)
- [ ] æœç´¢é¡µ (`pages/search/search`)
- [ ] é£Ÿè°±è¯¦æƒ…é¡µ (`pages/recipe-detail/recipe-detail`)
- [ ] ä¸ªäººä¸­å¿ƒ (`pages/profile/profile`)
- [ ] è®¾ç½®é¡µ (`pages/settings/settings`)
- [ ] å‘å¸ƒé£Ÿè°±é¡µ (`pages/submit/submit`)

**è®°å½•**:
- å“ªä¸ªé¡µé¢å‡ºç°404é”™è¯¯ï¼Ÿ
- æ˜¯åœ¨å“ªä¸ªç»„ä»¶æˆ–åŒºåŸŸï¼Ÿ
- æ˜¯å¦ä¸ç‰¹å®šæ“ä½œç›¸å…³ï¼ˆå¦‚ç™»å½•ã€ç‚¹å‡»ç­‰ï¼‰ï¼Ÿ

---

### ğŸ” æ­¥éª¤5: æ£€æŸ¥å°ç¨‹åºé…ç½®

#### æ£€æŸ¥ app.json

```json
// app.json
{
  "pages": [...],
  "window": {
    "backgroundTextStyle": "light",
    "navigationBarBackgroundColor": "#fff",
    "navigationBarTitleText": "ç¾é£Ÿèœè°±",
    "navigationBarTextStyle": "black",
    "backgroundImage": ""  // âš ï¸ æ£€æŸ¥è¿™é‡Œ
  },
  "tabBar": {
    "list": [
      {
        "pagePath": "pages/index/index",
        "text": "é¦–é¡µ",
        "iconPath": "/images/tabbar/home.png",  // âš ï¸ æ£€æŸ¥å›¾æ ‡è·¯å¾„
        "selectedIconPath": "/images/tabbar/home-active.png"
      },
      ...
    ]
  }
}
```

#### æ£€æŸ¥é¡µé¢é…ç½®

æŸ¥çœ‹æ¯ä¸ªé¡µé¢çš„ `.json` æ–‡ä»¶ï¼š

```json
// pages/login/login.json
{
  "navigationBarTitleText": "ç™»å½•",
  "backgroundImage": ""  // âš ï¸ æ£€æŸ¥è¿™é‡Œ
}
```

---

### ğŸ” æ­¥éª¤6: æ£€æŸ¥ç¼“å­˜å’Œæœ¬åœ°å­˜å‚¨

#### æ¸…é™¤å°ç¨‹åºç¼“å­˜

```javascript
// åœ¨æ§åˆ¶å°æ‰§è¡Œ
wx.clearStorageSync()
wx.reLaunch({ url: '/pages/index/index' })
```

#### æ£€æŸ¥æœ¬åœ°å­˜å‚¨

```javascript
// åœ¨æ§åˆ¶å°æ‰§è¡Œ
console.log(wx.getStorageInfoSync())

// æŸ¥çœ‹æ‰€æœ‰å­˜å‚¨çš„key
const info = wx.getStorageInfoSync()
info.keys.forEach(key => {
  const data = wx.getStorageSync(key)
  console.log(key, data)
  
  // æ£€æŸ¥æ•°æ®ä¸­æ˜¯å¦æœ‰ example.com
  if (JSON.stringify(data).includes('example.com')) {
    console.warn('å‘ç°ç¤ºä¾‹URL:', key, data)
  }
})
```

---

## ğŸ› ï¸ å¸¸è§åŸå› å’Œè§£å†³æ–¹æ¡ˆ

### åŸå› 1: å‰ç«¯å¤‡ç”¨æ•°æ®åŒ…å«ç¤ºä¾‹URL

**å®šä½**:
```bash
grep -n "example.com" pages/**/*.js
```

**è§£å†³**:
å°†æ‰€æœ‰ `example.com` URLæ›¿æ¢ä¸ºå®é™…URLæˆ–ç©ºå­—ç¬¦ä¸²ã€‚

### åŸå› 2: åç«¯statsæ¥å£è¿”å›ç¤ºä¾‹banner

**å®šä½**:
æ£€æŸ¥ `src/modules/stats/stats.service.ts` ä¸­çš„å¤‡ç”¨æ•°æ®ï¼š

```typescript
// src/modules/stats/stats.service.ts
banners: [
  {
    id: 1,
    image: 'https://example.com/banner1.jpg',  // âš ï¸ è¿™é‡Œ
    link: '/recipes/1',
  },
],
```

**è§£å†³**:
ä¿®æ”¹ `stats.service.ts`ï¼Œæ›¿æ¢ä¸ºå®é™…URLæˆ–è¿”å›ç©ºæ•°ç»„ã€‚

### åŸå› 3: æ—§æ•°æ®ç¼“å­˜

**è§£å†³**:
```javascript
// æ¸…é™¤æ‰€æœ‰ç¼“å­˜
wx.clearStorageSync()
wx.removeStorageSync('recipeList')
wx.removeStorageSync('userInfo')
wx.removeStorageSync('categories')
```

### åŸå› 4: recipe-detailå¤‡ç”¨æ•°æ®

**å®šä½**:
`pages/recipe-detail/recipe-detail.js` ç¬¬64-140è¡Œ

**è§£å†³**:
ä¿®æ”¹å¤‡ç”¨æ•°æ®ä¸­çš„æ‰€æœ‰å›¾ç‰‡URLï¼š

```javascript
// pages/recipe-detail/recipe-detail.js
const recipe = {
  id: id,
  title: 'ç•ªèŒ„ç‚–ç‰›è…©',
  cover_image: 'https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=800',  // âœ… å·²ä½¿ç”¨å®é™…URL
  // ...
}
```

---

## ğŸ“ è°ƒè¯•æŠ€å·§

### æŠ€å·§1: æ·»åŠ å…¨å±€å›¾ç‰‡åŠ è½½ç›‘å¬

åœ¨ `app.js` ä¸­æ·»åŠ ï¼š

```javascript
// app.js
App({
  onLaunch() {
    // ç›‘å¬å›¾ç‰‡åŠ è½½é”™è¯¯
    wx.onError((error) => {
      console.error('[Global Error]', error)
      
      if (error.includes('example.com')) {
        console.error('âš ï¸ å‘ç°ç¤ºä¾‹URLåŠ è½½å¤±è´¥:', error)
      }
    })
  }
})
```

### æŠ€å·§2: é‡å†™ wx.request æ·»åŠ æ—¥å¿—

```javascript
// utils/request.js
const originalRequest = wx.request

wx.request = function(options) {
  // æ£€æŸ¥URL
  if (options.url && options.url.includes('example.com')) {
    console.error('âš ï¸ æ£€æµ‹åˆ°ç¤ºä¾‹URLè¯·æ±‚:', options.url)
  }
  
  return originalRequest.call(this, options)
}
```

### æŠ€å·§3: å›¾ç‰‡ç»„ä»¶æ·»åŠ é”™è¯¯å¤„ç†

```xml
<!-- åœ¨æ‰€æœ‰ image ç»„ä»¶æ·»åŠ  binderror -->
<image 
  src="{{imageUrl}}" 
  binderror="onImageError"
  mode="aspectFill"
></image>
```

```javascript
// é¡µé¢JS
onImageError(e) {
  console.error('[Image Load Error]', e.detail)
  console.error('Image URL:', e.currentTarget.dataset.src)
  
  if (e.detail.errMsg.includes('example.com')) {
    wx.showToast({
      title: 'å›¾ç‰‡åŠ è½½å¤±è´¥',
      icon: 'none'
    })
  }
}
```

---

## ğŸ¯ å¿«é€Ÿæ’æŸ¥æ¸…å•

- [ ] æ•°æ®åº“ä¸­æ—  `example.com` URL
- [ ] å‰ç«¯ä»£ç ä¸­æ—  `example.com` URL
- [ ] åç«¯APIè¿”å›æ—  `example.com` URL
- [ ] å°ç¨‹åºé…ç½®æ–‡ä»¶ä¸­æ—  `example.com` URL
- [ ] æ¸…é™¤ç¼“å­˜åé—®é¢˜ä»å­˜åœ¨
- [ ] Networké¢æ¿ä¸­æ‰¾åˆ°404è¯·æ±‚çš„æ¥æº
- [ ] Consoleä¸­æ‰¾åˆ°é”™è¯¯çš„å †æ ˆä¿¡æ¯
- [ ] å®šä½åˆ°å…·ä½“çš„é¡µé¢å’Œç»„ä»¶

---

## ğŸ“ è¿›ä¸€æ­¥å¸®åŠ©

å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ— æ³•å®šä½é—®é¢˜ï¼Œè¯·æä¾›ï¼š

1. **å®Œæ•´çš„é”™è¯¯æ—¥å¿—**
   - åŒ…å«å †æ ˆä¿¡æ¯
   - è¯·æ±‚URL
   - è¯·æ±‚æ¥æºï¼ˆInitiatorï¼‰

2. **Networkæˆªå›¾**
   - 404è¯·æ±‚çš„è¯¦æƒ…
   - Request Headers
   - Response Headers

3. **å¤ç°æ­¥éª¤**
   - å…·ä½“æ“ä½œè·¯å¾„
   - æ˜¯å¦æ¯æ¬¡éƒ½å‡ºç°
   - å‡ºç°é¢‘ç‡

4. **ç¯å¢ƒä¿¡æ¯**
   - å¾®ä¿¡å¼€å‘è€…å·¥å…·ç‰ˆæœ¬
   - åŸºç¡€åº“ç‰ˆæœ¬
   - æ“ä½œç³»ç»Ÿ

---

**åˆ›å»ºæ—¶é—´**: 2025å¹´10æœˆ29æ—¥  
**ä½œè€…**: CookTip å¼€å‘å›¢é˜Ÿ

