#!/bin/bash

# API测试脚本
API_BASE="https://yjsp-ytg-191595-4-1367462091.sh.run.tcloudbase.com/api/v1"

echo "======================================================================"
echo "🧪 测试后端 API 接口"
echo "======================================================================"
echo ""

echo "1️⃣  测试分类接口"
echo "----------------------------------------------------------------------"
curl -s "$API_BASE/categories" | head -n 20
echo ""
echo ""

echo "2️⃣  测试食谱列表（推荐排序）"
echo "----------------------------------------------------------------------"
curl -s "$API_BASE/recipes?page=1&limit=5&sortBy=recommended" | head -n 30
echo ""
echo ""

echo "3️⃣  测试食谱列表（简单难度）"
echo "----------------------------------------------------------------------"
curl -s "$API_BASE/recipes?difficulty=简单&limit=3" | head -n 30
echo ""
echo ""

echo "4️⃣  测试食谱列表（热门）"
echo "----------------------------------------------------------------------"
curl -s "$API_BASE/recipes?sortBy=popular&limit=3" | head -n 30
echo ""
echo ""

echo "======================================================================"
echo "✅ API 测试完成"
echo "======================================================================"

